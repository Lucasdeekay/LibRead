{% extends 'base.html' %}
{% load static %}

{% block title %}
<title>E-Library | Repository</title>
{% endblock %}

{% block user %}
{% if current_clientele %}
<div>
    <small style="color:white">{{ current_clientele.clientele_id }}</small>
</div>
{% endif %}
{% endblock %}

{% block content %}
<div class="ht__breadcrumb__area bg-image--6">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <div class="breadcrumb__inner text-center">
                    <h2 class="breadcrumb-title">E-library</h2>
                    <nav class="breadcrumb-content">
                        <a class="breadcrumb_item" href="{% url 'Library:home' %}">Home</a>
                        <span class="brd-separator">/</span>
                        <a class="breadcrumb_item" href="{% url 'Library:repository' %}">E-library</a>
                        <span class="brd-separator">/</span>
                        <span class="breadcrumb_item active">E-books</span>
                    </nav>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- End breadcrumb area -->
<!-- Start Tab area -->
<div class="container mt-5">
    <div class="tabs is-toggle is-fullwidth">
        <ul>
            <li id="ebook-btn">
                <a>
                    <span class="icon is-small"><i class="fas fa-image" aria-hidden="true"></i></span>
                    <span>Ebook</span>
                </a>
            </li>
            <li id="journal-btn">
                <a>
                    <span class="icon is-small"><i class="fas fa-music" aria-hidden="true"></i></span>
                    <span>Journal</span>
                </a>
            </li>
        </ul>
    </div>
</div>
<!-- Start Tab area -->
<!-- Start Ebook Resources Area -->
<section class="my_account_area pt--80 pb--55 bg--white" id="ebook_sec">
    <div class="container">
        <div class="row row-cols-1 row-cols-lg-3 align-items-stretch g-4 py-5">
            {% for ebook in all_ebooks %}
            <div class="col">
                <div class="card card-cover h-80 overflow-hidden text-white rounded-5 shadow-lg"
                     style="background-color: #1C1C4A;">
                    <div class="d-flex flex-column h-100 p-3 pb-3 text-white text-shadow-1">
                        <ul class="list-unstyled mt-auto">
                            <li>
                                <b class="fw-bold" style="color:#CC8500">Title:</b><br>
                                <small class="pt-1 mt-1 mb-4 lh-1 fw-bold mx-4"> {{ ebook.title }}</small>
                            </li>
                            <li>
                                <b class="fw-bold" style="color:#CC8500">Author(s):</b><br>
                                <small class="pt-1 mt-1 mb-4 lh-1 fw-bold mx-4"> {{ ebook.authors }}</small>
                            </li>
                            <li>
                                <b class="fw-bold" style="color:#CC8500">Programme:</b><br>
                                <small class="pt-1 mt-1 mb-4 lh-1 fw-bold mx-4"> {{ ebook.programme }}</small>
                            </li>
                            <li>
                                <b class="fw-bold" style="color:#CC8500">Description:</b><br>
                                <small class="pt-1 mt-1 mb-4 lh-1 fw-bold mx-4">{{ ebook.description }}</small>
                            </li>
                            <li class="mt-3 d-flex justify-content-end">
                                <a href="media/{{ ebook.file.url }}" style="color:#CC8500" download>Download <img src="{% static 'images/pdf-img.png' %}" alt="PDF download" width="32" height="32"></a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
        <div class="pagination">
                    <span class="step-links">
                        {% if page_obj.has_previous %}
                            <a href="?page=1">&laquo; first</a>
                            <a href="?page={{ page_obj.previous_page_number }}">previous</a>
                        {% endif %}

                        <span class="current">
                            Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}.
                        </span>

                        {% if page_obj.has_next %}
                            <a href="?page={{ page_obj.next_page_number }}">next</a>
                            <a href="?page={{ page_obj.paginator.num_pages }}">last &raquo;</a>
                        {% endif %}
                    </span>
                </div>
    </div>
</section>
<!-- End Ebook Resources Area -->
<!-- Start Journal Resources Area -->
<section class="my_account_area pt--80 pb--55 bg--white" id="journal_sec">
    <div class="container">
        <div class="row row-cols-1 row-cols-lg-3 align-items-stretch g-4 py-5">
            {% for journal  in approved_journals %}
            <div class="col">
                <div class="card card-cover h-80 overflow-hidden text-white rounded-5 shadow-lg"
                     style="background-color: #1C1C4A;">
                    <div class="d-flex flex-column h-100 p-3 pb-3 text-white text-shadow-1">
                        <ul class="list-unstyled mt-auto">
                            <li>
                                <b class="fw-bold" style="color:#CC8500">Title:</b><br>
                                <small class="pt-1 mt-1 mb-4 lh-1 fw-bold mx-4"> {{ journal.title }}</small>
                            </li>
                            <li>
                                <b class="fw-bold" style="color:#CC8500">Author(s):</b><br>
                                <small class="pt-1 mt-1 mb-4 lh-1 fw-bold mx-4"> {{ journal.authors }}</small>
                            </li>
                            <li>
                                <b class="fw-bold" style="color:#CC8500">Description:</b><br>
                                <small class="pt-1 mt-1 mb-4 lh-1 fw-bold mx-4">{{ journal.description }}</small>
                            </li>
                            <li class="mt-3 d-flex justify-content-end">
                                <a href="media/{{ journal.file.url }}" style="color:#CC8500" download>Download <img src="{% static 'images/pdf-img.png' %}" alt="PDF download" width="32" height="32"></a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
        <div class="pagination">
                    <span class="step-links">
                        {% if page_obj.has_previous %}
                            <a href="?page=1">&laquo; first</a>
                            <a href="?page={{ page_obj.previous_page_number }}">previous</a>
                        {% endif %}

                        <span class="current">
                            Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}.
                        </span>

                        {% if page_obj.has_next %}
                            <a href="?page={{ page_obj.next_page_number }}">next</a>
                            <a href="?page={{ page_obj.paginator.num_pages }}">last &raquo;</a>
                        {% endif %}
                    </span>
                </div>
    </div>
</section>
<!-- End Journal Resources Area -->
{% endblock %}

{% block script %}
<script src="{% static 'js/main.js' %}"></script>
{% endblock %}