{% extends 'base.html' %}
{% load static %}

{% block title %}
<title>E-Library | Repository</title>
{% endblock %}

{% block user %}
{% if current_clientele %}
<div>
    <small style="color:white">{{ current_clientele.clientele_id }}</small>
</div>
{% endif %}
{% endblock %}

{% block content %}
<div class="ht__breadcrumb__area bg-image--6">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <div class="breadcrumb__inner text-center">
                    <h2 class="breadcrumb-title">E-library</h2>
                    <nav class="breadcrumb-content">
                        <a class="breadcrumb_item" href="{% url 'Library:home' %}">Home</a>
                        <span class="brd-separator">/</span>
                        <a class="breadcrumb_item" href="{% url 'Library:repository' %}">E-library</a>
                        <span class="brd-separator">/</span>
                        <span class="breadcrumb_item active">E-books</span>
                    </nav>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- End breadcrumb area -->
<!-- Start Offline Resources Area -->
<section class="my_account_area pt--80 pb--55 bg--white">
    <div class="container">
        <div class="row row-cols-1 row-cols-lg-3 align-items-stretch g-4 py-5">
            {% for resource in e_resources %}
            {% if resource.programme %}
            <div class="col">
                <div class="card card-cover h-80 overflow-hidden text-white rounded-5 shadow-lg"
                     style="background-color: #1C1C4A;">
                    <div class="d-flex flex-column h-100 p-3 pb-3 text-white text-shadow-1">
                        <ul class="list-unstyled mt-auto">
                            <li>
                                <b class="fw-bold" style="color:#CC8500">Title:</b><br>
                                <small class="pt-1 mt-1 mb-4 lh-1 fw-bold mx-4"> {{ resource.title }}</small>
                            </li>
                            <li>
                                <b class="fw-bold" style="color:#CC8500">Author(s):</b><br>
                                <small class="pt-1 mt-1 mb-4 lh-1 fw-bold mx-4"> {{ resource.authors }}</small>
                            </li>
                            <li>
                                <b class="fw-bold" style="color:#CC8500">Programme:</b><br>
                                <small class="pt-1 mt-1 mb-4 lh-1 fw-bold mx-4"> {{ resource.programme }}</small>
                            </li>
                            <li>
                                <b class="fw-bold" style="color:#CC8500">Description:</b><br>
                                <small class="pt-1 mt-1 mb-4 lh-1 fw-bold mx-4">{{ resource.description }}</small>
                            </li>
                            <li class="mt-3 d-flex justify-content-end">
                                <a href="media/{{ resource.file.url }}" style="color:#CC8500" download>Download <img src="{% static 'images/pdf-img.png' %}" alt="PDF download" width="32" height="32"></a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            {% else %}
            <div class="col">
                <div class="card card-cover h-80 overflow-hidden text-white rounded-5 shadow-lg"
                     style="background-color: #1C1C4A;">
                    <div class="d-flex flex-column h-100 p-3 pb-3 text-white text-shadow-1">
                        <ul class="list-unstyled mt-auto">
                            <li>
                                <b class="fw-bold" style="color:#CC8500">Title:</b><br>
                                <small class="pt-1 mt-1 mb-4 lh-1 fw-bold mx-4"> {{ resource.title }}</small>
                            </li>
                            <li>
                                <b class="fw-bold" style="color:#CC8500">Author(s):</b><br>
                                <small class="pt-1 mt-1 mb-4 lh-1 fw-bold mx-4"> {{ resource.authors }}</small>
                            </li>
                            <li>
                                <b class="fw-bold" style="color:#CC8500">Description:</b><br>
                                <small class="pt-1 mt-1 mb-4 lh-1 fw-bold mx-4">{{ resource.description }}</small>
                            </li>
                            <li class="mt-3 d-flex justify-content-end">
                                <a href="media/{{ resource.file.url }}" style="color:#CC8500" download>Download <img src="{% static 'images/pdf-img.png' %}" alt="PDF download" width="32" height="32"></a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            {% endif %}
            {% endfor %}
        </div>
    </div>
</section>
<!-- End Offline Resources Area -->
{% endblock %}